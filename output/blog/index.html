<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width"/>
    <title>Forkbomb Blog</title>
    <link rel="stylesheet" href="/theme/css/reset.css" />
    <link rel="stylesheet" href="/theme/css/common.css" />
    <link rel="stylesheet" href="/theme/css/pygment.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />
<link href="http://dkharitonov.me/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Forkbomb Blog RSS Feed" /></head>
<body>
<!-- Yandex.Metrika counter -->
<script>
(function(d, w, c) {
  (w[c] = w[c] || []).push(function() {
    try {
      w.yaCounter29914984 = new Ya.Metrika({
        id: 29914984,
        webvisor: true,
        clickmap: true,
        trackLinks: true,
        accurateTrackBounce: true,
        trackHash: true
      });
    } catch (e) {}
  });
  var n = d.getElementsByTagName("script")[0],
    s = d.createElement("script"),
    f = function() {
      n.parentNode.insertBefore(s, n);
    };
  s.type = "text/javascript";
  s.async = true;
  s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";
  if (w.opera == "[object Opera]") {
    d.addEventListener("DOMContentLoaded", f, false);
  } else {
    f();
  }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/29914984" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<header id="header">
    <nav id="menu"><ul>
<li><h1><span id="logo"><svg viewBox="0 0 74 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Forkbomb Blog</title>
  <g id="logo">
    <path d="M2.11914062,16.6337891 L2.11914062,18.4013672 L4.53125,18.4013672 L4.53125,19.3876953 L2.11914062,19.3876953 L2.11914062,22 L0.8984375,22 L0.8984375,15.6181641 L4.66796875,15.6181641 L4.66796875,16.6337891 L2.11914062,16.6337891 Z M11.0154297,18.7822266 C11.0154297,19.3616565 10.9478848,19.861326 10.812793,20.28125 C10.6777012,20.701174 10.4921561,21.0462226 10.2561523,21.3164062 C10.0201486,21.5865899 9.74345862,21.7867832 9.42607422,21.9169922 C9.10868982,22.0472012 8.76933775,22.1123047 8.40800782,22.1123047 C7.56815987,22.1123047 6.93665576,21.8331734 6.51347657,21.2749023 C6.09029737,20.7166313 5.87871094,19.9052788 5.87871094,18.8408203 C5.87871094,18.2613903 5.94625584,17.7617208 6.08134766,17.3417969 C6.21643948,16.9218729 6.4019845,16.5768243 6.63798828,16.3066406 C6.87399207,16.036457 7.15068201,15.8362637 7.46806641,15.7060547 C7.78545081,15.5758457 8.12480288,15.5107422 8.48613282,15.5107422 C9.32598076,15.5107422 9.95748487,15.7890597 10.3806641,16.3457031 C10.8038433,16.9023465 11.0154297,17.7145129 11.0154297,18.7822266 L11.0154297,18.7822266 Z M9.74589844,18.8408203 C9.74589844,18.0856082 9.64498799,17.5224628 9.44316407,17.1513672 C9.24134014,16.7802716 8.90931221,16.5947266 8.44707032,16.5947266 C8.21594937,16.5947266 8.01901123,16.6427404 7.85625,16.7387695 C7.69348877,16.8347987 7.55921277,16.975585 7.45341797,17.1611328 C7.34762317,17.3466806 7.27031275,17.5753567 7.22148438,17.847168 C7.17265601,18.1189792 7.14824219,18.4306623 7.14824219,18.7822266 C7.14824219,19.5374387 7.24996643,20.1005841 7.45341797,20.4716797 C7.65686951,20.8427753 7.98808365,21.0283203 8.44707032,21.0283203 C8.67819126,21.0283203 8.87594319,20.9803065 9.04033203,20.8842773 C9.20472088,20.7882482 9.33899688,20.6474619 9.44316407,20.4619141 C9.54733125,20.2763663 9.62382788,20.0476902 9.67265625,19.7758789 C9.72148462,19.5040677 9.74589844,19.1923846 9.74589844,18.8408203 L9.74589844,18.8408203 Z M15.24375,22 L14.3453125,19.9492188 C14.2606767,19.7539053 14.1426765,19.6066086 13.9913086,19.5073242 C13.8399407,19.4080399 13.6617198,19.3583984 13.4566406,19.3583984 L13.2271484,19.3583984 L13.2271484,22 L12.0259766,22 L12.0259766,15.6181641 L13.8863281,15.6181641 C14.2378924,15.6181641 14.5568996,15.6482744 14.8433594,15.7084961 C15.1298191,15.7687177 15.3739573,15.8688144 15.5757813,16.0087891 C15.7776052,16.1487637 15.9330398,16.3310536 16.0420898,16.5556641 C16.1511399,16.7802746 16.2056641,17.0553369 16.2056641,17.3808594 C16.2056641,17.6152355 16.1714847,17.8235668 16.103125,18.0058594 C16.0347653,18.188152 15.9387376,18.3452142 15.8150391,18.4770508 C15.6913405,18.6088874 15.5440438,18.7154944 15.3731445,18.796875 C15.2022452,18.8782556 15.0158864,18.9352212 14.8140625,18.9677734 C14.9703133,19.0003257 15.113541,19.0890292 15.24375,19.2338867 C15.373959,19.3787442 15.504166,19.5878893 15.634375,19.8613281 L16.6548828,22 L15.24375,22 Z M14.9458984,17.4980469 C14.9458984,17.1855453 14.8466156,16.9609382 14.6480469,16.8242188 C14.4494782,16.6874993 14.1516296,16.6191406 13.7544922,16.6191406 L13.2271484,16.6191406 L13.2271484,18.4208984 L13.7154297,18.4208984 C13.9009775,18.4208984 14.0694328,18.4013674 14.2208008,18.3623047 C14.3721687,18.323242 14.501562,18.2646488 14.6089844,18.1865234 C14.7164068,18.108398 14.7994138,18.0115566 14.8580078,17.8959961 C14.9166019,17.7804356 14.9458984,17.6477872 14.9458984,17.4980469 L14.9458984,17.4980469 Z M20.8636719,22 L18.9447266,18.9140625 L18.9447266,22 L17.7240234,22 L17.7240234,15.6181641 L18.9447266,15.6181641 L18.9447266,18.5234375 L20.8539063,15.6181641 L22.3041016,15.6181641 L20.1361328,18.6601562 L22.4164063,22 L20.8636719,22 Z M23.4220703,22 L23.4220703,15.6181641 L25.4826172,15.6181641 C26.2085323,15.6181641 26.7529604,15.7451159 27.115918,15.9990234 C27.4788755,16.252931 27.6603516,16.6370417 27.6603516,17.1513672 C27.6603516,17.3108732 27.6416343,17.4663078 27.6041992,17.6176758 C27.5667641,17.7690437 27.5089848,17.9082025 27.4308594,18.0351562 C27.352734,18.16211 27.2550787,18.2744136 27.1378906,18.3720703 C27.0207026,18.4697271 26.8823576,18.5462237 26.7228516,18.6015625 C26.8823576,18.6276043 27.034537,18.6788733 27.1793945,18.7553711 C27.324252,18.8318689 27.4512039,18.9311517 27.5602539,19.0532227 C27.6693039,19.1752936 27.7555661,19.3193351 27.819043,19.4853516 C27.8825199,19.651368 27.9142578,19.836913 27.9142578,20.0419922 C27.9142578,20.6930371 27.696161,21.1821273 27.2599609,21.5092773 C26.8237609,21.8364274 26.1938843,22 25.3703125,22 L23.4220703,22 Z M26.4103516,17.3613281 C26.4103516,17.2408848 26.3908205,17.1318364 26.3517578,17.0341797 C26.3126951,16.9365229 26.250033,16.853516 26.1637695,16.7851562 C26.0775061,16.7167965 25.9668301,16.6638999 25.8317383,16.6264648 C25.6966465,16.5890298 25.5330739,16.5703125 25.3410156,16.5703125 L24.6134766,16.5703125 L24.6134766,18.2597656 L25.3410156,18.2597656 C25.5363291,18.2597656 25.7015293,18.2361656 25.8366211,18.1889648 C25.9717129,18.1417641 26.0823889,18.0766606 26.1686524,17.9936523 C26.2549158,17.9106441 26.3167641,17.8154302 26.3541992,17.7080078 C26.3916343,17.6005854 26.4103516,17.4850267 26.4103516,17.3613281 L26.4103516,17.3613281 Z M25.4533203,21.0185547 C25.6453786,21.0185547 25.8138339,20.9941409 25.9586914,20.9453125 C26.1035489,20.8964841 26.2248042,20.8289392 26.3224609,20.7426758 C26.4201177,20.6564123 26.4941729,20.5546881 26.5446289,20.4375 C26.5950849,20.3203119 26.6203125,20.1949876 26.6203125,20.0615234 C26.6203125,19.7848293 26.5169607,19.5683602 26.3102539,19.4121094 C26.1035472,19.2558586 25.7869813,19.1777344 25.3605469,19.1777344 L24.6134766,19.1777344 L24.6134766,21.0185547 L25.4533203,21.0185547 Z M33.8076172,18.7822266 C33.8076172,19.3616565 33.7400723,19.861326 33.6049805,20.28125 C33.4698887,20.701174 33.2843436,21.0462226 33.0483399,21.3164062 C32.8123361,21.5865899 32.5356461,21.7867832 32.2182617,21.9169922 C31.9008773,22.0472012 31.5615253,22.1123047 31.2001953,22.1123047 C30.3603474,22.1123047 29.7288433,21.8331734 29.3056641,21.2749023 C28.8824849,20.7166313 28.6708985,19.9052788 28.6708985,18.8408203 C28.6708985,18.2613903 28.7384433,17.7617208 28.8735352,17.3417969 C29.008627,16.9218729 29.194172,16.5768243 29.4301758,16.3066406 C29.6661796,16.036457 29.9428695,15.8362637 30.2602539,15.7060547 C30.5776383,15.5758457 30.9169904,15.5107422 31.2783203,15.5107422 C32.1181683,15.5107422 32.7496724,15.7890597 33.1728516,16.3457031 C33.5960308,16.9023465 33.8076172,17.7145129 33.8076172,18.7822266 L33.8076172,18.7822266 Z M32.538086,18.8408203 C32.538086,18.0856082 32.4371755,17.5224628 32.2353516,17.1513672 C32.0335277,16.7802716 31.7014997,16.5947266 31.2392578,16.5947266 C31.0081369,16.5947266 30.8111987,16.6427404 30.6484375,16.7387695 C30.4856763,16.8347987 30.3514003,16.975585 30.2456055,17.1611328 C30.1398107,17.3466806 30.0625003,17.5753567 30.0136719,17.847168 C29.9648435,18.1189792 29.9404297,18.4306623 29.9404297,18.7822266 C29.9404297,19.5374387 30.0421539,20.1005841 30.2456055,20.4716797 C30.449057,20.8427753 30.7802712,21.0283203 31.2392578,21.0283203 C31.4703788,21.0283203 31.6681307,20.9803065 31.8325195,20.8842773 C31.9969084,20.7882482 32.1311844,20.6474619 32.2353516,20.4619141 C32.3395188,20.2763663 32.4160154,20.0476902 32.4648438,19.7758789 C32.5136721,19.5040677 32.538086,19.1923846 32.538086,18.8408203 L32.538086,18.8408203 Z M38.4070313,22 L38.2898438,18.3916016 L38.2458985,16.9511719 L37.9382813,17.9277344 L37.2302735,20.1005859 L36.4783203,20.1005859 L35.8386719,17.9277344 L35.5701172,16.9511719 L35.5359375,18.3623047 L35.4285156,22 L34.4080078,22 L34.7205078,15.6181641 L36.0779297,15.6181641 L36.6394531,17.4296875 L36.9080078,18.4501953 L37.1765625,17.4882812 L37.7673828,15.6181641 L39.1492188,15.6181641 L39.4666016,22 L38.4070313,22 Z M40.516211,22 L40.516211,15.6181641 L42.5767578,15.6181641 C43.3026729,15.6181641 43.8471011,15.7451159 44.2100586,15.9990234 C44.5730162,16.252931 44.7544922,16.6370417 44.7544922,17.1513672 C44.7544922,17.3108732 44.7357749,17.4663078 44.6983399,17.6176758 C44.6609048,17.7690437 44.6031254,17.9082025 44.525,18.0351562 C44.4468746,18.16211 44.3492194,18.2744136 44.2320313,18.3720703 C44.1148432,18.4697271 43.9764982,18.5462237 43.8169922,18.6015625 C43.9764982,18.6276043 44.1286777,18.6788733 44.2735352,18.7553711 C44.4183927,18.8318689 44.5453445,18.9311517 44.6543946,19.0532227 C44.7634446,19.1752936 44.8497067,19.3193351 44.9131836,19.4853516 C44.9766605,19.651368 45.0083985,19.836913 45.0083985,20.0419922 C45.0083985,20.6930371 44.7903017,21.1821273 44.3541016,21.5092773 C43.9179015,21.8364274 43.288025,22 42.4644531,22 L40.516211,22 Z M43.5044922,17.3613281 C43.5044922,17.2408848 43.4849612,17.1318364 43.4458985,17.0341797 C43.4068358,16.9365229 43.3441736,16.853516 43.2579102,16.7851562 C43.1716467,16.7167965 43.0609707,16.6638999 42.9258789,16.6264648 C42.7907871,16.5890298 42.6272145,16.5703125 42.4351563,16.5703125 L41.7076172,16.5703125 L41.7076172,18.2597656 L42.4351563,18.2597656 C42.6304697,18.2597656 42.7956699,18.2361656 42.9307617,18.1889648 C43.0658536,18.1417641 43.1765295,18.0766606 43.262793,17.9936523 C43.3490564,17.9106441 43.4109048,17.8154302 43.4483399,17.7080078 C43.4857749,17.6005854 43.5044922,17.4850267 43.5044922,17.3613281 L43.5044922,17.3613281 Z M42.547461,21.0185547 C42.7395192,21.0185547 42.9079746,20.9941409 43.0528321,20.9453125 C43.1976895,20.8964841 43.3189448,20.8289392 43.4166016,20.7426758 C43.5142583,20.6564123 43.5883136,20.5546881 43.6387696,20.4375 C43.6892255,20.3203119 43.7144531,20.1949876 43.7144531,20.0615234 C43.7144531,19.7848293 43.6111013,19.5683602 43.4043946,19.4121094 C43.1976878,19.2558586 42.8811219,19.1777344 42.4546875,19.1777344 L41.7076172,19.1777344 L41.7076172,21.0185547 L42.547461,21.0185547 Z M51.9123047,22 L51.9123047,15.6181641 L53.9728516,15.6181641 C54.6987667,15.6181641 55.2431948,15.7451159 55.6061524,15.9990234 C55.9691099,16.252931 56.150586,16.6370417 56.150586,17.1513672 C56.150586,17.3108732 56.1318687,17.4663078 56.0944336,17.6176758 C56.0569985,17.7690437 55.9992192,17.9082025 55.9210938,18.0351562 C55.8429684,18.16211 55.7453131,18.2744136 55.628125,18.3720703 C55.5109369,18.4697271 55.372592,18.5462237 55.213086,18.6015625 C55.372592,18.6276043 55.5247714,18.6788733 55.6696289,18.7553711 C55.8144864,18.8318689 55.9414383,18.9311517 56.0504883,19.0532227 C56.1595383,19.1752936 56.2458005,19.3193351 56.3092774,19.4853516 C56.3727543,19.651368 56.4044922,19.836913 56.4044922,20.0419922 C56.4044922,20.6930371 56.1863954,21.1821273 55.7501953,21.5092773 C55.3139952,21.8364274 54.6841187,22 53.8605469,22 L51.9123047,22 Z M54.900586,17.3613281 C54.900586,17.2408848 54.8810549,17.1318364 54.8419922,17.0341797 C54.8029295,16.9365229 54.7402674,16.853516 54.6540039,16.7851562 C54.5677405,16.7167965 54.4570645,16.6638999 54.3219727,16.6264648 C54.1868809,16.5890298 54.0233083,16.5703125 53.83125,16.5703125 L53.103711,16.5703125 L53.103711,18.2597656 L53.83125,18.2597656 C54.0265635,18.2597656 54.1917637,18.2361656 54.3268555,18.1889648 C54.4619473,18.1417641 54.5726233,18.0766606 54.6588867,17.9936523 C54.7451502,17.9106441 54.8069985,17.8154302 54.8444336,17.7080078 C54.8818687,17.6005854 54.900586,17.4850267 54.900586,17.3613281 L54.900586,17.3613281 Z M53.9435547,21.0185547 C54.135613,21.0185547 54.3040683,20.9941409 54.4489258,20.9453125 C54.5937833,20.8964841 54.7150386,20.8289392 54.8126953,20.7426758 C54.9103521,20.6564123 54.9844073,20.5546881 55.0348633,20.4375 C55.0853193,20.3203119 55.1105469,20.1949876 55.1105469,20.0615234 C55.1105469,19.7848293 55.0071951,19.5683602 54.8004883,19.4121094 C54.5937815,19.2558586 54.2772157,19.1777344 53.8507813,19.1777344 L53.103711,19.1777344 L53.103711,21.0185547 L53.9435547,21.0185547 Z M57.9423828,22 L57.9423828,15.6181641 L59.163086,15.6181641 L59.163086,20.9697266 L61.8583985,20.9697266 L61.8583985,22 L57.9423828,22 Z M67.9958985,18.7822266 C67.9958985,19.3616565 67.9283536,19.861326 67.7932618,20.28125 C67.6581699,20.701174 67.4726249,21.0462226 67.2366211,21.3164062 C67.0006173,21.5865899 66.7239274,21.7867832 66.406543,21.9169922 C66.0891586,22.0472012 65.7498065,22.1123047 65.3884766,22.1123047 C64.5486286,22.1123047 63.9171245,21.8331734 63.4939453,21.2749023 C63.0707661,20.7166313 62.8591797,19.9052788 62.8591797,18.8408203 C62.8591797,18.2613903 62.9267246,17.7617208 63.0618164,17.3417969 C63.1969083,16.9218729 63.3824533,16.5768243 63.6184571,16.3066406 C63.8544608,16.036457 64.1311508,15.8362637 64.4485352,15.7060547 C64.7659196,15.5758457 65.1052717,15.5107422 65.4666016,15.5107422 C66.3064495,15.5107422 66.9379536,15.7890597 67.3611328,16.3457031 C67.784312,16.9023465 67.9958985,17.7145129 67.9958985,18.7822266 L67.9958985,18.7822266 Z M66.7263672,18.8408203 C66.7263672,18.0856082 66.6254568,17.5224628 66.4236328,17.1513672 C66.2218089,16.7802716 65.889781,16.5947266 65.4275391,16.5947266 C65.1964181,16.5947266 64.99948,16.6427404 64.8367188,16.7387695 C64.6739576,16.8347987 64.5396816,16.975585 64.4338868,17.1611328 C64.328092,17.3466806 64.2507815,17.5753567 64.2019532,17.847168 C64.1531248,18.1189792 64.128711,18.4306623 64.128711,18.7822266 C64.128711,19.5374387 64.2304352,20.1005841 64.4338868,20.4716797 C64.6373383,20.8427753 64.9685524,21.0283203 65.4275391,21.0283203 C65.65866,21.0283203 65.856412,20.9803065 66.0208008,20.8842773 C66.1851897,20.7882482 66.3194657,20.6474619 66.4236328,20.4619141 C66.5278,20.2763663 66.6042967,20.0476902 66.653125,19.7758789 C66.7019534,19.5040677 66.7263672,19.1923846 66.7263672,18.8408203 L66.7263672,18.8408203 Z M71.1548828,19.2998047 L71.1548828,18.3085938 L73.4253907,18.3085938 L73.4253907,21.7119141 C73.1324204,21.8486335 72.8264339,21.9495439 72.5074219,22.0146484 C72.1884099,22.0797529 71.8417337,22.1123047 71.4673828,22.1123047 C71.0246723,22.1123047 70.6267271,22.043946 70.2735352,21.9072266 C69.9203433,21.7705071 69.6200534,21.5670586 69.3726563,21.296875 C69.1252592,21.0266914 68.9356452,20.6914083 68.8038086,20.2910156 C68.671972,19.890623 68.6060547,19.4267604 68.6060547,18.8994141 C68.6060547,18.3688125 68.6752272,17.8935568 68.8135743,17.4736328 C68.9519213,17.0537088 69.1537422,16.6980809 69.419043,16.4067383 C69.6843438,16.1153957 70.0098614,15.8932299 70.3956055,15.7402344 C70.7813496,15.5872388 71.2216121,15.5107422 71.7164063,15.5107422 C72.0093765,15.5107422 72.2950182,15.5359698 72.5733399,15.5864258 C72.8516616,15.6368818 73.1291653,15.7044267 73.4058594,15.7890625 L73.4058594,16.9755859 C73.1649728,16.8616531 72.8988622,16.7680668 72.6075196,16.6948242 C72.316177,16.6215817 72.0223974,16.5849609 71.7261719,16.5849609 C71.4266912,16.5849609 71.1622082,16.6370438 70.9327149,16.7412109 C70.7032215,16.8453781 70.5111662,16.9934886 70.356543,17.1855469 C70.2019198,17.3776051 70.0847335,17.6136054 70.0049805,17.8935547 C69.9252275,18.173504 69.8853516,18.4892561 69.8853516,18.8408203 C69.8853516,19.1793637 69.9162758,19.4845364 69.978125,19.7563477 C70.0399743,20.0281589 70.140071,20.2592764 70.278418,20.449707 C70.4167651,20.6401377 70.5949859,20.7858068 70.813086,20.8867188 C71.031186,20.9876307 71.2964828,21.0380859 71.6089844,21.0380859 C71.6838546,21.0380859 71.7489581,21.0356446 71.8042969,21.0307617 C71.8596357,21.0258789 71.9117185,21.0185547 71.9605469,21.0087891 C72.0093753,20.9990234 72.0557615,20.9876303 72.0997071,20.9746094 C72.1436526,20.9615885 72.1900389,20.9469402 72.2388672,20.9306641 L72.2388672,19.2998047 L71.1548828,19.2998047 Z" id="title"></path>
    <path d="M3.29882812,4.01171875 C3.41992248,4.01171875 3.5351557,4.03613257 3.64453125,4.08496094 C3.7539068,4.13378931 3.84960896,4.19921834 3.93164062,4.28125 C4.01367229,4.36328166 4.07910132,4.45898383 4.12792969,4.56835938 C4.17675806,4.67773492 4.20117188,4.79296814 4.20117188,4.9140625 C4.20117188,5.03906313 4.17675806,5.1552729 4.12792969,5.26269531 C4.07910132,5.37011772 4.01367229,5.46484334 3.93164062,5.546875 C3.84960896,5.62890666 3.7539068,5.69335914 3.64453125,5.74023438 C3.5351557,5.78710961 3.41992248,5.81054688 3.29882812,5.81054688 C3.1738275,5.81054688 3.05761772,5.78710961 2.95019531,5.74023438 C2.8427729,5.69335914 2.74804729,5.62890666 2.66601562,5.546875 C2.58398396,5.46484334 2.51953148,5.37011772 2.47265625,5.26269531 C2.42578102,5.1552729 2.40234375,5.03906313 2.40234375,4.9140625 C2.40234375,4.79296814 2.42578102,4.67773492 2.47265625,4.56835938 C2.51953148,4.45898383 2.58398396,4.36328166 2.66601562,4.28125 C2.74804729,4.19921834 2.8427729,4.13378931 2.95019531,4.08496094 C3.05761772,4.03613257 3.1738275,4.01171875 3.29882812,4.01171875 L3.29882812,4.01171875 Z M3.29882812,8.30664062 C3.41992248,8.30664062 3.5351557,8.33105444 3.64453125,8.37988281 C3.7539068,8.42871118 3.84960896,8.49414021 3.93164062,8.57617188 C4.01367229,8.65820354 4.07910132,8.7539057 4.12792969,8.86328125 C4.17675806,8.9726568 4.20117188,9.08789002 4.20117188,9.20898438 C4.20117188,9.333985 4.17675806,9.45019478 4.12792969,9.55761719 C4.07910132,9.6650396 4.01367229,9.75976521 3.93164062,9.84179688 C3.84960896,9.92382854 3.7539068,9.98828102 3.64453125,10.0351562 C3.5351557,10.0820315 3.41992248,10.1054688 3.29882812,10.1054688 C3.1738275,10.1054688 3.05761772,10.0820315 2.95019531,10.0351562 C2.8427729,9.98828102 2.74804729,9.92382854 2.66601562,9.84179688 C2.58398396,9.75976521 2.51953148,9.6650396 2.47265625,9.55761719 C2.42578102,9.45019478 2.40234375,9.333985 2.40234375,9.20898438 C2.40234375,9.08789002 2.42578102,8.9726568 2.47265625,8.86328125 C2.51953148,8.7539057 2.58398396,8.65820354 2.66601562,8.57617188 C2.74804729,8.49414021 2.8427729,8.42871118 2.95019531,8.37988281 C3.05761772,8.33105444 3.1738275,8.30664062 3.29882812,8.30664062 L3.29882812,8.30664062 Z M10.0566406,12.4609375 C8.25585037,10.7929604 7.35546875,8.94922885 7.35546875,6.9296875 C7.35546875,6.45702889 7.40331983,5.98535392 7.49902344,5.51464844 C7.59472704,5.04394296 7.74902237,4.57226799 7.96191406,4.09960938 C8.17480575,3.62695076 8.45605294,3.15429924 8.80566406,2.68164062 C9.15527519,2.20898201 9.58007562,1.7402367 10.0800781,1.27539062 L10.671875,1.87890625 C9.15624242,3.37500748 8.3984375,5.03319402 8.3984375,6.85351562 C8.3984375,7.75977016 8.58984184,8.6308552 8.97265625,9.46679688 C9.35547066,10.3027386 9.92187125,11.0917932 10.671875,11.8339844 L10.0566406,12.4609375 Z M13.3339844,1.27539062 C15.1347746,2.94336771 16.0351562,4.79881791 16.0351562,6.84179688 C16.0351562,7.26367398 15.9921879,7.70116961 15.90625,8.15429688 C15.8203121,8.60742414 15.6738292,9.07128669 15.4667969,9.54589844 C15.2597646,10.0205102 14.9814471,10.5019507 14.6318359,10.9902344 C14.2822248,11.4785181 13.8417995,11.9687475 13.3105469,12.4609375 L12.71875,11.8574219 C13.4804726,11.1035119 14.0488263,10.3164104 14.4238281,9.49609375 C14.79883,8.67577715 14.9863281,7.81641074 14.9863281,6.91796875 C14.9863281,5.05858445 14.2304763,3.38672617 12.71875,1.90234375 L13.3339844,1.27539062 Z M22.0488281,12.4023438 L21.6152344,12.4023438 C20.8613244,12.4023438 20.3007831,12.2255877 19.9335938,11.8720703 C19.5664044,11.5185529 19.3828125,10.9824255 19.3828125,10.2636719 L19.3828125,8.24804688 C19.3828125,8.05663967 19.3613283,7.88574294 19.3183594,7.73535156 C19.2753904,7.58496019 19.2001958,7.45800833 19.0927734,7.35449219 C18.985351,7.25097604 18.8427743,7.17187527 18.6650391,7.1171875 C18.4873038,7.06249973 18.2636732,7.03515625 17.9941406,7.03515625 L17.7421875,7.03515625 L17.7421875,6.22070312 L17.9941406,6.22070312 C18.2792983,6.22070312 18.5117179,6.19726586 18.6914062,6.15039062 C18.8710946,6.10351539 19.0117182,6.03222704 19.1132812,5.93652344 C19.2148443,5.84081983 19.2851561,5.71875074 19.3242188,5.5703125 C19.3632814,5.42187426 19.3828125,5.24609477 19.3828125,5.04296875 L19.3828125,3.65429688 C19.3828125,3.32617023 19.4218746,3.03027476 19.5,2.76660156 C19.5781254,2.50292837 19.7060538,2.27832124 19.8837891,2.09277344 C20.0615243,1.90722563 20.2919908,1.76464894 20.5751953,1.66503906 C20.8583999,1.56542919 21.2050761,1.515625 21.6152344,1.515625 L22.0488281,1.515625 L22.0488281,2.3359375 L21.703125,2.3359375 C20.7968705,2.3359375 20.34375,2.77538623 20.34375,3.65429688 L20.34375,5.01953125 C20.34375,5.97266102 19.9316447,6.50976502 19.1074219,6.63085938 C19.9394573,6.71289104 20.3554688,7.24804193 20.3554688,8.23632812 L20.3554688,10.2402344 C20.3554688,11.1347701 20.804683,11.5820312 21.703125,11.5820312 L22.0488281,11.5820312 L22.0488281,12.4023438 Z M31.2871094,4.01171875 C31.4082037,4.01171875 31.523437,4.03613257 31.6328125,4.08496094 C31.742188,4.13378931 31.8378902,4.19921834 31.9199219,4.28125 C32.0019535,4.36328166 32.0673826,4.45898383 32.1162109,4.56835938 C32.1650393,4.67773492 32.1894531,4.79296814 32.1894531,4.9140625 C32.1894531,5.03906313 32.1650393,5.1552729 32.1162109,5.26269531 C32.0673826,5.37011772 32.0019535,5.46484334 31.9199219,5.546875 C31.8378902,5.62890666 31.742188,5.69335914 31.6328125,5.74023438 C31.523437,5.78710961 31.4082037,5.81054688 31.2871094,5.81054688 C31.1621087,5.81054688 31.045899,5.78710961 30.9384766,5.74023438 C30.8310542,5.69335914 30.7363285,5.62890666 30.6542969,5.546875 C30.5722652,5.46484334 30.5078127,5.37011772 30.4609375,5.26269531 C30.4140623,5.1552729 30.390625,5.03906313 30.390625,4.9140625 C30.390625,4.79296814 30.4140623,4.67773492 30.4609375,4.56835938 C30.5078127,4.45898383 30.5722652,4.36328166 30.6542969,4.28125 C30.7363285,4.19921834 30.8310542,4.13378931 30.9384766,4.08496094 C31.045899,4.03613257 31.1621087,4.01171875 31.2871094,4.01171875 L31.2871094,4.01171875 Z M31.2871094,8.30664062 C31.4082037,8.30664062 31.523437,8.33105444 31.6328125,8.37988281 C31.742188,8.42871118 31.8378902,8.49414021 31.9199219,8.57617188 C32.0019535,8.65820354 32.0673826,8.7539057 32.1162109,8.86328125 C32.1650393,8.9726568 32.1894531,9.08789002 32.1894531,9.20898438 C32.1894531,9.333985 32.1650393,9.45019478 32.1162109,9.55761719 C32.0673826,9.6650396 32.0019535,9.75976521 31.9199219,9.84179688 C31.8378902,9.92382854 31.742188,9.98828102 31.6328125,10.0351562 C31.523437,10.0820315 31.4082037,10.1054688 31.2871094,10.1054688 C31.1621087,10.1054688 31.045899,10.0820315 30.9384766,10.0351562 C30.8310542,9.98828102 30.7363285,9.92382854 30.6542969,9.84179688 C30.5722652,9.75976521 30.5078127,9.6650396 30.4609375,9.55761719 C30.4140623,9.45019478 30.390625,9.333985 30.390625,9.20898438 C30.390625,9.08789002 30.4140623,8.9726568 30.4609375,8.86328125 C30.5078127,8.7539057 30.5722652,8.65820354 30.6542969,8.57617188 C30.7363285,8.49414021 30.8310542,8.42871118 30.9384766,8.37988281 C31.045899,8.33105444 31.1621087,8.30664062 31.2871094,8.30664062 L31.2871094,8.30664062 Z M37.3652344,12.4023438 L36.4042969,12.4023438 L36.4042969,0.40234375 L37.3652344,0.40234375 L37.3652344,12.4023438 Z M42.4824219,4.01171875 C42.6035162,4.01171875 42.7187495,4.03613257 42.828125,4.08496094 C42.9375005,4.13378931 43.0332027,4.19921834 43.1152344,4.28125 C43.197266,4.36328166 43.2626951,4.45898383 43.3115234,4.56835938 C43.3603518,4.67773492 43.3847656,4.79296814 43.3847656,4.9140625 C43.3847656,5.03906313 43.3603518,5.1552729 43.3115234,5.26269531 C43.2626951,5.37011772 43.197266,5.46484334 43.1152344,5.546875 C43.0332027,5.62890666 42.9375005,5.69335914 42.828125,5.74023438 C42.7187495,5.78710961 42.6035162,5.81054688 42.4824219,5.81054688 C42.3574213,5.81054688 42.2412115,5.78710961 42.1337891,5.74023438 C42.0263667,5.69335914 41.931641,5.62890666 41.8496094,5.546875 C41.7675777,5.46484334 41.7031252,5.37011772 41.65625,5.26269531 C41.6093748,5.1552729 41.5859375,5.03906313 41.5859375,4.9140625 C41.5859375,4.79296814 41.6093748,4.67773492 41.65625,4.56835938 C41.7031252,4.45898383 41.7675777,4.36328166 41.8496094,4.28125 C41.931641,4.19921834 42.0263667,4.13378931 42.1337891,4.08496094 C42.2412115,4.03613257 42.3574213,4.01171875 42.4824219,4.01171875 L42.4824219,4.01171875 Z M42.4824219,8.30664062 C42.6035162,8.30664062 42.7187495,8.33105444 42.828125,8.37988281 C42.9375005,8.42871118 43.0332027,8.49414021 43.1152344,8.57617188 C43.197266,8.65820354 43.2626951,8.7539057 43.3115234,8.86328125 C43.3603518,8.9726568 43.3847656,9.08789002 43.3847656,9.20898438 C43.3847656,9.333985 43.3603518,9.45019478 43.3115234,9.55761719 C43.2626951,9.6650396 43.197266,9.75976521 43.1152344,9.84179688 C43.0332027,9.92382854 42.9375005,9.98828102 42.828125,10.0351562 C42.7187495,10.0820315 42.6035162,10.1054688 42.4824219,10.1054688 C42.3574213,10.1054688 42.2412115,10.0820315 42.1337891,10.0351562 C42.0263667,9.98828102 41.931641,9.92382854 41.8496094,9.84179688 C41.7675777,9.75976521 41.7031252,9.6650396 41.65625,9.55761719 C41.6093748,9.45019478 41.5859375,9.333985 41.5859375,9.20898438 C41.5859375,9.08789002 41.6093748,8.9726568 41.65625,8.86328125 C41.7031252,8.7539057 41.7675777,8.65820354 41.8496094,8.57617188 C41.931641,8.49414021 42.0263667,8.42871118 42.1337891,8.37988281 C42.2412115,8.33105444 42.3574213,8.30664062 42.4824219,8.30664062 L42.4824219,8.30664062 Z M50.78125,6.00390625 C50.78125,6.51562756 50.7304693,6.98046666 50.6289062,7.3984375 C50.5273432,7.81640834 50.3828134,8.19140459 50.1953125,8.5234375 L51.3789062,10 L50.0253906,10 L49.5097656,9.36132812 C49.2324205,9.5957043 48.9228533,9.77441345 48.5810547,9.89746094 C48.2392561,10.0205084 47.8691426,10.0820312 47.4707031,10.0820312 C47.091795,10.0820312 46.7558608,10.0292974 46.4628906,9.92382812 C46.1699204,9.81835885 45.9238291,9.67089938 45.7246094,9.48144531 C45.5253896,9.29199124 45.374024,9.06640756 45.2705078,8.8046875 C45.1669917,8.54296744 45.1152344,8.25390783 45.1152344,7.9375 C45.1152344,7.64062352 45.1542965,7.37597772 45.2324219,7.14355469 C45.3105473,6.91113165 45.416015,6.70410247 45.5488281,6.52246094 C45.6816413,6.3408194 45.8349601,6.18066476 46.0087891,6.04199219 C46.1826181,5.90331962 46.3652334,5.77539121 46.5566406,5.65820312 L46.4277344,5.4765625 C46.2089833,5.2070299 46.045899,4.93359514 45.9384766,4.65625 C45.8310542,4.37890486 45.7773438,4.1074232 45.7773438,3.84179688 C45.7773438,3.56054547 45.8222652,3.30078244 45.9121094,3.0625 C46.0019536,2.82421756 46.1337882,2.61816493 46.3076172,2.44433594 C46.4814462,2.27050694 46.6962878,2.13476611 46.9521484,2.03710938 C47.2080091,1.93945264 47.4999984,1.890625 47.828125,1.890625 C48.1445328,1.890625 48.4218738,1.93554643 48.6601562,2.02539062 C48.8984387,2.11523482 49.0976554,2.23828047 49.2578125,2.39453125 C49.4179696,2.55078203 49.5380855,2.73144429 49.6181641,2.93652344 C49.6982426,3.14160259 49.7382812,3.35937385 49.7382812,3.58984375 C49.7382812,3.88281396 49.6884771,4.13964733 49.5888672,4.36035156 C49.4892573,4.58105579 49.3583992,4.77636634 49.1962891,4.94628906 C49.0341789,5.11621179 48.8486339,5.26757746 48.6396484,5.40039062 C48.430663,5.53320379 48.216798,5.66210875 47.9980469,5.78710938 L49.5097656,7.67382813 C49.6816415,7.21288832 49.7617188,6.65625326 49.75,6.00390625 L50.78125,6.00390625 Z M46.1757812,7.81445312 C46.1757812,8.02148541 46.208984,8.21093664 46.2753906,8.3828125 C46.3417972,8.55468836 46.4365228,8.70214782 46.5595703,8.82519531 C46.6826178,8.9482428 46.8330069,9.04296842 47.0107422,9.109375 C47.1884775,9.17578158 47.3886708,9.20898438 47.6113281,9.20898438 C48.1191432,9.20898438 48.5644512,9.02148625 48.9472656,8.64648438 L47.0839844,6.31445312 C46.9511712,6.40429732 46.8291021,6.49999949 46.7177734,6.6015625 C46.6064448,6.70312551 46.5107426,6.81445252 46.4306641,6.93554688 C46.3505855,7.05664123 46.2880862,7.1894524 46.2431641,7.33398438 C46.198242,7.47851635 46.1757812,7.638671 46.1757812,7.81445312 L46.1757812,7.81445312 Z M48.7070312,3.68945312 C48.7070312,3.39648291 48.6250008,3.16699302 48.4609375,3.00097656 C48.2968742,2.83496011 48.0742202,2.75195312 47.7929688,2.75195312 C47.636718,2.75195312 47.499024,2.7773435 47.3798828,2.828125 C47.2607416,2.8789065 47.1601567,2.9492183 47.078125,3.0390625 C46.9960933,3.1289067 46.9345705,3.23437439 46.8935547,3.35546875 C46.8525389,3.47656311 46.8320312,3.60742117 46.8320312,3.74804688 C46.8320312,3.95898543 46.8710934,4.15527253 46.9492188,4.33691406 C47.0273441,4.5185556 47.1523429,4.71874891 47.3242188,4.9375 L47.4824219,5.14257812 C47.6503915,5.04882766 47.808593,4.95410204 47.9570312,4.85839844 C48.1054695,4.76269483 48.235351,4.65722714 48.3466797,4.54199219 C48.4580084,4.42675724 48.5458981,4.29980538 48.6103516,4.16113281 C48.674805,4.02246024 48.7070312,3.86523525 48.7070312,3.68945312 L48.7070312,3.68945312 Z M57.3183594,1.515625 L57.7519531,1.515625 C58.5058631,1.515625 59.0664044,1.69238104 59.4335938,2.04589844 C59.8007831,2.39941583 59.984375,2.93554328 59.984375,3.65429688 L59.984375,5.0078125 C59.984375,5.19921971 60.0058592,5.37011644 60.0488281,5.52050781 C60.0917971,5.67089919 60.1669917,5.79785104 60.2744141,5.90136719 C60.3818365,6.00488333 60.5253897,6.0839841 60.7050781,6.13867188 C60.8847665,6.19335965 61.1093737,6.22070312 61.3789062,6.22070312 L61.6308594,6.22070312 L61.6308594,7.03515625 L61.3789062,7.03515625 C61.0937486,7.03515625 60.8603525,7.05859352 60.6787109,7.10546875 C60.4970694,7.15234398 60.3554693,7.22363233 60.2539062,7.31933594 C60.1523432,7.41503954 60.0820314,7.53710863 60.0429688,7.68554688 C60.0039061,7.83398512 59.984375,8.00976461 59.984375,8.21289062 L59.984375,10.2636719 C59.984375,10.5917985 59.9453129,10.887694 59.8671875,11.1513672 C59.7890621,11.4150404 59.6621103,11.6396475 59.4863281,11.8251953 C59.310546,12.0107431 59.0800796,12.1533198 58.7949219,12.2529297 C58.5097642,12.3525396 58.1621114,12.4023438 57.7519531,12.4023438 L57.3183594,12.4023438 L57.3183594,11.5820312 L57.6699219,11.5820312 C58.5722701,11.5820312 59.0234375,11.1425825 59.0234375,10.2636719 L59.0234375,8.23632812 C59.0234375,7.28319836 59.4355428,6.74804746 60.2597656,6.63085938 C59.4277302,6.54101518 59.0117188,6.00391117 59.0117188,5.01953125 L59.0117188,3.67773438 C59.0117188,2.78319865 58.5644576,2.3359375 57.6699219,2.3359375 L57.3183594,2.3359375 L57.3183594,1.515625 Z M63.0390625,11.2011719 C63.2382822,11.2089844 63.4316397,11.1914065 63.6191406,11.1484375 C63.8066416,11.1054685 63.971679,11.0419926 64.1142578,10.9580078 C64.2568367,10.874023 64.3710933,10.7695319 64.4570312,10.6445312 C64.5429692,10.5195306 64.5859375,10.3769539 64.5859375,10.2167969 C64.5859375,10.0527336 64.5576175,9.91992238 64.5009766,9.81835938 C64.4443357,9.71679637 64.3808597,9.6230473 64.3105469,9.53710938 C64.240234,9.45117145 64.1767581,9.35937549 64.1201172,9.26171875 C64.0634763,9.16406201 64.0351562,9.03320395 64.0351562,8.86914062 C64.0351562,8.78710896 64.0507811,8.70117232 64.0820312,8.61132812 C64.1132814,8.52148393 64.1611325,8.4394535 64.2255859,8.36523438 C64.2900394,8.29101525 64.3720698,8.23046898 64.4716797,8.18359375 C64.5712896,8.13671852 64.6894524,8.11328125 64.8261719,8.11328125 C64.9628913,8.11328125 65.0947259,8.14160128 65.2216797,8.19824219 C65.3486334,8.2548831 65.4599605,8.34179629 65.5556641,8.45898438 C65.6513677,8.57617246 65.7275388,8.72265537 65.7841797,8.8984375 C65.8408206,9.07421963 65.8691406,9.28124881 65.8691406,9.51953125 C65.8691406,9.84375162 65.8095709,10.1552719 65.6904297,10.4541016 C65.5712885,10.7529312 65.3935559,11.017577 65.1572266,11.2480469 C64.9208973,11.4785168 64.6259783,11.6621087 64.2724609,11.7988281 C63.9189435,11.9355476 63.5078148,12.0039062 63.0390625,12.0039062 L63.0390625,11.2011719 Z M64.8730469,4.01171875 C64.9941412,4.01171875 65.1093745,4.03613257 65.21875,4.08496094 C65.3281255,4.13378931 65.4238277,4.19921834 65.5058594,4.28125 C65.587891,4.36328166 65.6533201,4.45898383 65.7021484,4.56835938 C65.7509768,4.67773492 65.7753906,4.79296814 65.7753906,4.9140625 C65.7753906,5.03906313 65.7509768,5.1552729 65.7021484,5.26269531 C65.6533201,5.37011772 65.587891,5.46484334 65.5058594,5.546875 C65.4238277,5.62890666 65.3281255,5.69335914 65.21875,5.74023438 C65.1093745,5.78710961 64.9941412,5.81054688 64.8730469,5.81054688 C64.7480463,5.81054688 64.6318365,5.78710961 64.5244141,5.74023438 C64.4169917,5.69335914 64.322266,5.62890666 64.2402344,5.546875 C64.1582027,5.46484334 64.0937502,5.37011772 64.046875,5.26269531 C63.9999998,5.1552729 63.9765625,5.03906313 63.9765625,4.9140625 C63.9765625,4.79296814 63.9999998,4.67773492 64.046875,4.56835938 C64.0937502,4.45898383 64.1582027,4.36328166 64.2402344,4.28125 C64.322266,4.19921834 64.4169917,4.13378931 64.5244141,4.08496094 C64.6318365,4.03613257 64.7480463,4.01171875 64.8730469,4.01171875 L64.8730469,4.01171875 Z M70.4707031,4.01171875 C70.5917975,4.01171875 70.7070307,4.03613257 70.8164062,4.08496094 C70.9257818,4.13378931 71.021484,4.19921834 71.1035156,4.28125 C71.1855473,4.36328166 71.2509763,4.45898383 71.2998047,4.56835938 C71.3486331,4.67773492 71.3730469,4.79296814 71.3730469,4.9140625 C71.3730469,5.03906313 71.3486331,5.1552729 71.2998047,5.26269531 C71.2509763,5.37011772 71.1855473,5.46484334 71.1035156,5.546875 C71.021484,5.62890666 70.9257818,5.69335914 70.8164062,5.74023438 C70.7070307,5.78710961 70.5917975,5.81054688 70.4707031,5.81054688 C70.3457025,5.81054688 70.2294927,5.78710961 70.1220703,5.74023438 C70.0146479,5.69335914 69.9199223,5.62890666 69.8378906,5.546875 C69.755859,5.46484334 69.6914065,5.37011772 69.6445312,5.26269531 C69.597656,5.1552729 69.5742188,5.03906313 69.5742188,4.9140625 C69.5742188,4.79296814 69.597656,4.67773492 69.6445312,4.56835938 C69.6914065,4.45898383 69.755859,4.36328166 69.8378906,4.28125 C69.9199223,4.19921834 70.0146479,4.13378931 70.1220703,4.08496094 C70.2294927,4.03613257 70.3457025,4.01171875 70.4707031,4.01171875 L70.4707031,4.01171875 Z M70.4707031,8.30664062 C70.5917975,8.30664062 70.7070307,8.33105444 70.8164062,8.37988281 C70.9257818,8.42871118 71.021484,8.49414021 71.1035156,8.57617188 C71.1855473,8.65820354 71.2509763,8.7539057 71.2998047,8.86328125 C71.3486331,8.9726568 71.3730469,9.08789002 71.3730469,9.20898438 C71.3730469,9.333985 71.3486331,9.45019478 71.2998047,9.55761719 C71.2509763,9.6650396 71.1855473,9.75976521 71.1035156,9.84179688 C71.021484,9.92382854 70.9257818,9.98828102 70.8164062,10.0351562 C70.7070307,10.0820315 70.5917975,10.1054688 70.4707031,10.1054688 C70.3457025,10.1054688 70.2294927,10.0820315 70.1220703,10.0351562 C70.0146479,9.98828102 69.9199223,9.92382854 69.8378906,9.84179688 C69.755859,9.75976521 69.6914065,9.6650396 69.6445312,9.55761719 C69.597656,9.45019478 69.5742188,9.333985 69.5742188,9.20898438 C69.5742188,9.08789002 69.597656,8.9726568 69.6445312,8.86328125 C69.6914065,8.7539057 69.755859,8.65820354 69.8378906,8.57617188 C69.9199223,8.49414021 70.0146479,8.42871118 70.1220703,8.37988281 C70.2294927,8.33105444 70.3457025,8.30664062 70.4707031,8.30664062 L70.4707031,8.30664062 Z" id="bash"></path>
    <rect x="0" y="0" width="100%" height="100%" style="fill-opacity: 0;" />
  </g>
</svg></span></h1></li>
<li><em>О разработке и всём таком. <a href="/">Об авторе</a></em></li>
    </ul></nav>
</header>

<section id="content">

<article class="post">
    <header class="header">
            <div class="readtime"><i class="sprite sprite-clock"></i> 7 мин. на прочтение</div>
        <h2 class="title">
            <a href="/blog/nice-js-vol-1" rel="bookmark">Хороший JavaScript. Vol. 1 «Pimp your code»</a>
        </h2>
        
    </header>
    <div class="body"><p>Как известно, JavaScript&nbsp;&mdash; язык-ошибка, язык-неочевидное поведение, язык-недоразумение. Причиной этому являлась необходимость в&nbsp;середине 90 в&nbsp;жесткие сроки получить мощный язык, позволяющий придать страницам больше возможностей. И&nbsp;получили. Все проблемы<span style="margin-right:0.3em;"> </span><span style="margin-left:-0.3em;">(</span>повсеместные глобальные переменные, область видимости переменных, неочевидные и&nbsp;нелогичные приведения типов) зашиты в&nbsp;JS глубоко и&nbsp;надолго. Сейчас к&nbsp;нам приближается ES6, который явно, но&nbsp;не&nbsp;достаточно кардинально улучшает ситуацию.</p>
<p>С&nbsp;другой стороны язык очень гибок и&nbsp;никто не&nbsp;запрещает обходить плохие стороны, использовать хорошие и&nbsp;улучшать язык своими силами. Этим я&nbsp;и&nbsp;займусь в&nbsp;серии заметок. Неизгладимое впечатление на&nbsp;меня произвела книга<span style="margin-right:0.44em;"> </span><span style="margin-left:-0.44em;">&laquo;</span><a href="http://www.ozon.ru/context/detail/id/20217226/">JavaScript. Сильные стороны</a>&raquo; Дугласа Крокфорда, рекомендую к&nbsp;прочтению<span style="margin-right:0.3em;"> </span><span style="margin-left:-0.3em;">(</span>она совсем небольшая).</p>
<h2>Объекты</h2>
<p>Это один из&nbsp;основных механизмов в&nbsp;языке и, надо сказать, удачно реализованный. </p>
<p>Всё<span style="margin-right:0.3em;"> </span><span style="margin-left:-0.3em;">(</span>ну, примитивы не&nbsp;совсем объекты, они неизменяемы) в&nbsp;JS&nbsp;&mdash; объект. Объекты обладают прототипом, который и&nbsp;сам является объектом со&nbsp;своим набором свойств. К&nbsp;прототипам можно относиться как к&nbsp;базовым объектам, задающим начальную функциональность другим объектам. Разные объекты могут иметь один и&nbsp;тот&nbsp;же прототип. Каждый раз при изменении прототипа у&nbsp;объекта все другие объекты с&nbsp;этим&nbsp;же прототипом получают его обновленную версию. Это достигается за&nbsp;счет того, что объекты содержат не&nbsp;копию, а&nbsp;ссылку на&nbsp;прототип. Такая реализация способствует экономии памяти и&nbsp;скорости работы.</p>
<p>Помимо прототипа у&nbsp;объекта есть свои, эксклюзивные свойства. Имя свойства может совпадать с&nbsp;именем свойства в&nbsp;прототипе. Ситуация разрешается просто: JS&nbsp;сначала поищет запрашиваемое свойство в&nbsp;списке личных свойств объекта, а&nbsp;если не&nbsp;найдет, пойдет искать по&nbsp;цепочке прототипов в&nbsp;их&nbsp;свойствах.</p>
<p>Что можно со&nbsp;всем этим делать?</p>
<h2>Расширение функциональности на&nbsp;лету</h2>
<p>Как было сказано, почти все в&nbsp;JS является объектом, в&nbsp;том числе массивы<span style="margin-right:0.3em;"> </span><span style="margin-left:-0.3em;">(</span>ага). Мы&nbsp;всегда можем добавить объекту новое свойство. Давайте попробуем использовать это себе во&nbsp;благо. </p>
<p>Например, имеем список абзацев с&nbsp;текстом на&nbsp;странице. Помимо самих DOM элементов мы&nbsp;хотим хранить рядом с&nbsp;ними какую-то метаинформацию<span style="margin-right:0.3em;"> </span><span style="margin-left:-0.3em;">(</span>к&nbsp;примеру, UID абзаца). И&nbsp;мы&nbsp;должны уметь удалять и&nbsp;вставлять абзацы в&nbsp;произвольных местах. Работающий пример можно посмотреть <a href="https://jsbin.com/qemaqo/edit?html,js,output">здесь</a>.</p>
<p>Есть следующая страница:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>Расширение функциональности на лету<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">// ... здесь JS тот, что ниже в статье ...</span>
<span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</td></tr></table>

<p>Объявим массив, где будем хранить наши абзацы, и&nbsp;опишем объект, который будет представлять абзац с&nbsp;текстом и&nbsp;дополнительной информацией.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span class="kd">var</span> <span class="nx">content</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">blocks</span> <span class="o">=</span> <span class="p">[];</span>

<span class="kd">var</span> <span class="nx">block_factory</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="nx">meta</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">);</span>
  <span class="nx">node</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>

  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">node</span><span class="o">:</span> <span class="nx">node</span><span class="p">,</span>
    <span class="nx">meta</span><span class="o">:</span> <span class="nx">meta</span>
  <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>

<p>Наша цель&nbsp;&mdash; абстрагироваться от&nbsp;работы с&nbsp;DOM и&nbsp;иметь дело только с&nbsp;моделью данных. Чтобы осуществлять вставку и&nbsp;удаление в&nbsp;массиве хорошо подойдет стандартный метод <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/splice"><code>splice</code></a>. Но&nbsp;есть проблема: нам всё-таки <em>нужно</em> воздействовать на&nbsp;DOM, чтобы изменения были видны <nobr>визуально :)</nobr> Давайте <em>подправим</em> метод <code>splice</code>, но&nbsp;только для массива <code>blocks</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="codehilite"><pre><span class="nx">blocks</span><span class="p">.</span><span class="nx">splice</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">start</span><span class="p">,</span> <span class="nx">deleteCount</span><span class="p">,</span> <span class="nx">block</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">insert</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Вставляем элемент на заданный индекс в DOM дереве</span>
    <span class="c1">// Текущий и последующие элементы будут сдвинуты «вперед»</span>
    <span class="nx">content</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span> <span class="nx">content</span><span class="p">.</span><span class="nx">childNodes</span><span class="p">[</span><span class="nx">start</span><span class="p">]);</span>

    <span class="c1">// Эта конструкция вызывает оригинальный метод splice из прототипа массива</span>
    <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">splice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">blocks</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">deleteCount</span><span class="p">,</span> <span class="nx">block</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">remove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Вызываем оригинальный метод splice</span>
    <span class="c1">// Он возвращает новый массив с удаленными элементами</span>
    <span class="kd">var</span> <span class="nx">deleted</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">splice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">blocks</span><span class="p">,</span> <span class="nx">start</span><span class="p">,</span> <span class="nx">deleteCount</span><span class="p">);</span>
    <span class="nx">deleted</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">removed</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Удаляем элемент из DOM</span>
      <span class="nx">content</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">removed</span><span class="p">.</span><span class="nx">node</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">deleted</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="c1">// Вызываем функцию удаления или вставки в зависимости от аргументов</span>
  <span class="k">return</span> <span class="k">typeof</span> <span class="nx">block</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">?</span> <span class="nx">remove</span><span class="p">()</span> <span class="o">:</span> <span class="nx">insert</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>

<p>Для простоты реализации метод перестал поддерживать возможность вставки нескольких элементов разом. Ну&nbsp;и&nbsp;ладно.</p>
<p>Теперь мы&nbsp;можем работать с&nbsp;нашей моделью данных и&nbsp;сразу влиять на&nbsp;DOM:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span class="nx">blocks</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">block_factory</span><span class="p">(</span><span class="s1">&#39;Первый абзац&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">uid</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">}));</span>
<span class="nx">blocks</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">block_factory</span><span class="p">(</span><span class="s1">&#39;Второй абзац&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">uid</span> <span class="o">:</span> <span class="mi">2</span> <span class="p">}));</span>
<span class="nx">blocks</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">block_factory</span><span class="p">(</span><span class="s1">&#39;Третий абзац&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">uid</span> <span class="o">:</span> <span class="mi">3</span> <span class="p">}));</span>
<span class="nx">blocks</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">block_factory</span><span class="p">(</span><span class="s1">&#39;Теперь это второй абзац&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">uid</span> <span class="o">:</span> <span class="mi">4</span> <span class="p">}));</span>
<span class="nx">blocks</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// Удалим третий по счету абзац (с текстом &#39;Второй абзац&#39;)</span>
</pre></div>
</td></tr></table>

<p>Наш метод <code>splice</code> не&nbsp;затрагивает прототипный метод<span style="margin-right:0.3em;"> </span><span style="margin-left:-0.3em;">(</span>помните, выше я&nbsp;писал, что у&nbsp;объектов есть прототип, а&nbsp;есть свои личные методы?), поэтому никаких проблем с&nbsp;использование метода у&nbsp;других массивов не&nbsp;будет. Эта техника позволяет писать мощный, но&nbsp;в&nbsp;то&nbsp;же время чистый, легко поддерживаемый код.</p>
<p>Подобным образом можно добавлять недостающую функциональность и&nbsp;к&nbsp;прототипам объектов<span style="margin-right:0.3em;"> </span><span style="margin-left:-0.3em;">(</span>в&nbsp;том числе стандартным):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span class="c1">// Добавляем ко всем объектам типа String метод trim, если его нет</span>
<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trim</span> <span class="o">!==</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
  <span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trim</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^s+|s+$/g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>В&nbsp;следующей статье мы&nbsp;продолжим работать с&nbsp;прототипами и&nbsp;посмотрим на&nbsp;способы реализации наследования в&nbsp;JavaScript.</p></div>
    <footer class="meta">
            <p class="tags">
              <a class="tag nodecor" href="/blog/tags/js">#<u>js</u></a>
              <a class="tag nodecor" href="/blog/tags/series">#<u>series</u></a>
            </p>
        <p><time datetime="2015-08-20T12:51:00+03:00">20 августа 2015</time></p>
    </footer>
</article>
</section>

<footer id="footer">
    <p class="copyright">© Дмитрий Харитонов, <a href="mailto:geakstr@me.com" rel="me">geakstr@me.com</a></p>
</footer>

</body>
</html>